<form [formGroup]="shopForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" id="title" formControlName="title">
      <div *ngIf="shopForm.controls['title'].invalid && (shopForm.controls['title'].dirty || shopForm.controls['title'].touched)" class="alert alert-danger">
        Title is required
      </div>
    </div>
  
    <div class="form-group">
      <label for="location">Location</label>
      <input class="form-control" id="location" formControlName="location">
      <div *ngIf="shopForm.controls['location'].invalid && (shopForm.controls['location'].dirty || shopForm.controls['location'].touched)" class="alert alert-danger">
        location is required
      </div>
    </div>
  
    <div class="form-group">
      <label for="contactNo">Contact No</label>
      <input type="number" class="form-control" id="contactNo" formControlName="contactNo">
      <div *ngIf="shopForm.controls['contactNo'].invalid && (shopForm.controls['contactNo'].dirty || shopForm.controls['contactNo'].touched)" class="alert alert-danger">
        Contact No is required
      </div>
    </div>
  
    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" formControlName="email">
      <div *ngIf="shopForm.controls['email'].invalid && (shopForm.controls['email'].dirty || shopForm.controls['email'].touched)" class="alert alert-danger">
        email is required
      </div>
    </div>
    <div class="form-group">
      <label for="email">Books</label>
      <div formArrayName="books">
          <div *ngFor="let book of books.controls; let i = index">
            <b>{{book.value.title}}</b>
            <button mat-icon-button type="button" (click)="removeBook(i)"><i class="fas fa-times-circle" style="color: #ff0000;"></i></button>
          </div>
        </div>
  </div>

  
    <div class="form-group">
        <mat-select formControlName="selectedBook">
            <mat-option value="" disabled selected>Select a book</mat-option>
            <mat-option *ngFor="let book of availableBooks" [value]="book.id">{{ book.title }}</mat-option>
          </mat-select>
          <button mat-raised-button type="button" (click)="addBook()" style="color:green"><i class="fas fa-plus-square fa-lg"></i>Add Book</button>   
      </div>
  
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>